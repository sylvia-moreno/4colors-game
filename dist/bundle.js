/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/js/board.js":
/*!*************************!*\
  !*** ./src/js/board.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var state = __webpack_require__(/*! ./utils/state */ \"./src/js/utils/state.js\");\r\nvar updateStateCardBoard = __webpack_require__(/*! ./utils/update-state-card */ \"./src/js/utils/update-state-card.js\");\r\nvar removeCard = __webpack_require__(/*! ./utils/remove-card */ \"./src/js/utils/remove-card.js\");\r\nvar cardTemplate = __webpack_require__(/*! ./utils/card-template */ \"./src/js/utils/card-template.js\");\r\n\r\nvar marginLeftValue = 0;\r\nvar putCardArea = $('.card-played')[0];\r\n\r\n\r\nfunction BoardView(curentPlayer) {\r\n    this.startGameBtn = $('#start-game')[0];\r\n    this.zoneCardsPlayer1 = $('div[data-player=\"player1\"]')[0];\r\n    this.zoneCardsPlayer2 = $('div[data-player=\"player2\"]')[0];\r\n    this.cardOnBoard = $('button.card')[0];\r\n    this.cardPlayed = $('#card-played')[0];\r\n    this.pickaxe = $('#pickaxe button:last-child')[0];\r\n\r\n    var marginLeftValue = 0;\r\n    var modale = $('.game-modal')[0];\r\n    this.startGame = function() {\r\n        var playerName1 = $('#input-name-player1')[0].value || 'player1';\r\n        var playerName2 = $('#input-name-player2')[0].value || 'player2';\r\n\r\n        //mise en avant du nom du joueur à qui c'est le tour\r\n        //$('#game-player-name-' + curentPlayer.id + '').addClass('isTurn');\r\n\r\n        //-- A l'ouverture de la page, je dispose la modale\r\n        //on remplit les input names et on ferme la modale\r\n        $('#start-game').click(function() {\r\n            $('#game-player-name-player1')[0].innerHTML = playerName1;\r\n            $('#game-player-name-player2')[0].innerHTML = playerName2;\r\n            $('.game-modal-block').removeClass('visible');\r\n            $('.game-modal-backdrop').removeClass('visible');\r\n        });\r\n\r\n    }\r\n\r\n    this.cardClick = function(card, cardDomElt, curentPlayer, currentPlayerCards, updatePlayers, gameOver) {\r\n        debugger\r\n        //var cardOnBoardPlayed = state.cardsPlayed[0].slice(-1)[0];\r\n        var cardOnBoardPlayed = state.cardsPlayed.slice(-1)[0]; // /!\\ c'est la dernière carte qui donne le jeu 'tas pioche'\r\n        //je disabled les cartes de l'autre joueurs\r\n        if (card.number === cardOnBoardPlayed.number || card.color === cardOnBoardPlayed.color) {\r\n            console.log('je peux jouer');\r\n            this.playCard(card, curentPlayer.id, currentPlayerCards, cardDomElt);\r\n            state.cardsPlayed.push(card);\r\n            console.log('mon joueur ' + curentPlayer.id + ' possède ' + curentPlayer.cards.length + ' cartes');\r\n\r\n            //c'est au tour de l'autre joueur\r\n            updatePlayers(curentPlayer, gameOver(curentPlayer));\r\n        } else {\r\n            console.log('je ne peux pas jouer');\r\n            // je ne peux que cliquer sur la pioche \r\n            this.pickaxeClick();\r\n\r\n            //c'est au tour de l'autre joueur\r\n            updatePlayers(curentPlayer, gameOver(curentPlayer));\r\n        }\r\n        //je retire la classe qui anime le nom du joueur à qui ce n'est plus le tour\r\n        $('#game-player-name-' + curentPlayer.id + '').removeClass('isTurn');\r\n\r\n        //j'enabled les cartes de l'autre joueur\r\n\r\n    }\r\n\r\n    this.pickaxeClick = function(card) {\r\n        //j'ajoute la carte pioche à celle du jeu de mon joueur courant ihm\r\n        var addCardPlayerGame = cardTemplate(card.color, card.number, card.id, marginLeftValue += 40);\r\n        $('div[data-player=\"' + curentPlayer + '\"] .card-gamme button:last-child')[0].innerHTML += addCardPlayerGame;\r\n\r\n        //je supprime la carte de la pioche \r\n        $('#pickaxe button:last-child')[0].remove();\r\n    }\r\n\r\n    //annotation pour dire à qui c'est le tour\r\n    this.displayPlayerTurn = function(player) {\r\n        var playerTurnDivName = $('#game-player-name-' + player.id + '').addClass('isTurn');\r\n        var intervalID = setInterval(playerTurnDivName, 2000);\r\n        clearInterval(intervalID);\r\n    };\r\n\r\n    //fonction 'je peux jouer'\r\n    this.playCard = function(card, curentPlayer, currentPlayerCards, cardDomElt) {\r\n        //je supprime la carte ok du tas du joueur du DOM\r\n        cardDomElt.remove();\r\n\r\n        //je met à jour mon state card joueur en supprimant la carte de l'obj\r\n        var cardObjRemove = null;\r\n        state.players.find(function(p) {\r\n            if (p.id === curentPlayer) {\r\n                p.cards.map(function(c) {\r\n                    if (c.number === card.number && c.color === card.color && c.id === card.id) {\r\n                        cardObjRemove = card\r\n                        console.log('player: ', p);\r\n                        removeCard(currentPlayerCards, cardObjRemove);\r\n                    }\r\n                })\r\n            }\r\n        });\r\n\r\n        //je retire l'ancienne carte du tas 'cartes à jouer'\r\n        $('#card-played button')[0].remove();\r\n\r\n        //j'ajoute cette carte au tas 'cartes à jouer'\r\n        var newCard = cardTemplate(card.color, card.number, card.id, marginLeftValue);\r\n        $('#card-played')[0].innerHTML += newCard;\r\n    }\r\n\r\n    //fonction 'je peux pas jouer': pioche + ajoute de la carte dans le jeu du joueur\r\n    /*this.notPlayCard = function() {\r\n        $('#pickaxe button.card').click(function(e) {\r\n            var cardAdd = null;\r\n\r\n            var card = e.target.closest('.card');\r\n            cardAdd = state.board.cards[0][0].find(function(card) {\r\n                if (card.id == e.target.closest('.card').id) {\r\n                    return card;\r\n                }\r\n            });\r\n            console.log('cardAdd: ', cardAdd);\r\n\r\n            //je met à jour mon obj player.card avec la carte en plus dans son jeu\r\n            curentPlayer.cards.push(cardAdd);\r\n            //j'ajoute la 1e carte à mon tas joueur\r\n            var addCardPlayerGame = cardTemplate(cardAdd.color, cardAdd.number, cardAdd.id, marginLeftValue += 40);\r\n            $('div[data-player=\"' + curentPlayer.id + '\"] .card-gamme button:last-child')[0].innerHTML += addCardPlayerGame;\r\n\r\n            //je supprime la carte de la pile de la pioche\r\n            $('#pickaxe button:last-child')[0].remove();\r\n            console.log('mon joueur ', curentPlayer.id, ' a ', player.cards.length, ' cartes')\r\n        });\r\n    }*/\r\n\r\n    function switchPlayer() {\r\n        var players = state.players;\r\n        //c'est le tour de l'autre joueur\r\n        players.find(function(p) {\r\n            if (!p.turn) {\r\n                currentPlayer = p;\r\n                p.turn = true;\r\n                currentPlayerCards = p.cards;\r\n                console.log('c\\'est au tour du joueur ', currentPlayer);\r\n            };\r\n        });\r\n    }\r\n\r\n}\r\n\r\nmodule.exports = BoardView;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYm9hcmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvYm9hcmQuanM/MzkwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RhdGUgPSByZXF1aXJlKCcuL3V0aWxzL3N0YXRlJyk7XHJcbnZhciB1cGRhdGVTdGF0ZUNhcmRCb2FyZCA9IHJlcXVpcmUoJy4vdXRpbHMvdXBkYXRlLXN0YXRlLWNhcmQnKTtcclxudmFyIHJlbW92ZUNhcmQgPSByZXF1aXJlKCcuL3V0aWxzL3JlbW92ZS1jYXJkJyk7XHJcbnZhciBjYXJkVGVtcGxhdGUgPSByZXF1aXJlKCcuL3V0aWxzL2NhcmQtdGVtcGxhdGUnKTtcclxuXHJcbnZhciBtYXJnaW5MZWZ0VmFsdWUgPSAwO1xyXG52YXIgcHV0Q2FyZEFyZWEgPSAkKCcuY2FyZC1wbGF5ZWQnKVswXTtcclxuXHJcblxyXG5mdW5jdGlvbiBCb2FyZFZpZXcoY3VyZW50UGxheWVyKSB7XHJcbiAgICB0aGlzLnN0YXJ0R2FtZUJ0biA9ICQoJyNzdGFydC1nYW1lJylbMF07XHJcbiAgICB0aGlzLnpvbmVDYXJkc1BsYXllcjEgPSAkKCdkaXZbZGF0YS1wbGF5ZXI9XCJwbGF5ZXIxXCJdJylbMF07XHJcbiAgICB0aGlzLnpvbmVDYXJkc1BsYXllcjIgPSAkKCdkaXZbZGF0YS1wbGF5ZXI9XCJwbGF5ZXIyXCJdJylbMF07XHJcbiAgICB0aGlzLmNhcmRPbkJvYXJkID0gJCgnYnV0dG9uLmNhcmQnKVswXTtcclxuICAgIHRoaXMuY2FyZFBsYXllZCA9ICQoJyNjYXJkLXBsYXllZCcpWzBdO1xyXG4gICAgdGhpcy5waWNrYXhlID0gJCgnI3BpY2theGUgYnV0dG9uOmxhc3QtY2hpbGQnKVswXTtcclxuXHJcbiAgICB2YXIgbWFyZ2luTGVmdFZhbHVlID0gMDtcclxuICAgIHZhciBtb2RhbGUgPSAkKCcuZ2FtZS1tb2RhbCcpWzBdO1xyXG4gICAgdGhpcy5zdGFydEdhbWUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgcGxheWVyTmFtZTEgPSAkKCcjaW5wdXQtbmFtZS1wbGF5ZXIxJylbMF0udmFsdWUgfHwgJ3BsYXllcjEnO1xyXG4gICAgICAgIHZhciBwbGF5ZXJOYW1lMiA9ICQoJyNpbnB1dC1uYW1lLXBsYXllcjInKVswXS52YWx1ZSB8fCAncGxheWVyMic7XHJcblxyXG4gICAgICAgIC8vbWlzZSBlbiBhdmFudCBkdSBub20gZHUgam91ZXVyIMOgIHF1aSBjJ2VzdCBsZSB0b3VyXHJcbiAgICAgICAgLy8kKCcjZ2FtZS1wbGF5ZXItbmFtZS0nICsgY3VyZW50UGxheWVyLmlkICsgJycpLmFkZENsYXNzKCdpc1R1cm4nKTtcclxuXHJcbiAgICAgICAgLy8tLSBBIGwnb3V2ZXJ0dXJlIGRlIGxhIHBhZ2UsIGplIGRpc3Bvc2UgbGEgbW9kYWxlXHJcbiAgICAgICAgLy9vbiByZW1wbGl0IGxlcyBpbnB1dCBuYW1lcyBldCBvbiBmZXJtZSBsYSBtb2RhbGVcclxuICAgICAgICAkKCcjc3RhcnQtZ2FtZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkKCcjZ2FtZS1wbGF5ZXItbmFtZS1wbGF5ZXIxJylbMF0uaW5uZXJIVE1MID0gcGxheWVyTmFtZTE7XHJcbiAgICAgICAgICAgICQoJyNnYW1lLXBsYXllci1uYW1lLXBsYXllcjInKVswXS5pbm5lckhUTUwgPSBwbGF5ZXJOYW1lMjtcclxuICAgICAgICAgICAgJCgnLmdhbWUtbW9kYWwtYmxvY2snKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xyXG4gICAgICAgICAgICAkKCcuZ2FtZS1tb2RhbC1iYWNrZHJvcCcpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY2FyZENsaWNrID0gZnVuY3Rpb24oY2FyZCwgY2FyZERvbUVsdCwgY3VyZW50UGxheWVyLCBjdXJyZW50UGxheWVyQ2FyZHMsIHVwZGF0ZVBsYXllcnMsIGdhbWVPdmVyKSB7XHJcbiAgICAgICAgZGVidWdnZXJcclxuICAgICAgICAvL3ZhciBjYXJkT25Cb2FyZFBsYXllZCA9IHN0YXRlLmNhcmRzUGxheWVkWzBdLnNsaWNlKC0xKVswXTtcclxuICAgICAgICB2YXIgY2FyZE9uQm9hcmRQbGF5ZWQgPSBzdGF0ZS5jYXJkc1BsYXllZC5zbGljZSgtMSlbMF07IC8vIC8hXFwgYydlc3QgbGEgZGVybmnDqHJlIGNhcnRlIHF1aSBkb25uZSBsZSBqZXUgJ3RhcyBwaW9jaGUnXHJcbiAgICAgICAgLy9qZSBkaXNhYmxlZCBsZXMgY2FydGVzIGRlIGwnYXV0cmUgam91ZXVyc1xyXG4gICAgICAgIGlmIChjYXJkLm51bWJlciA9PT0gY2FyZE9uQm9hcmRQbGF5ZWQubnVtYmVyIHx8IGNhcmQuY29sb3IgPT09IGNhcmRPbkJvYXJkUGxheWVkLmNvbG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdqZSBwZXV4IGpvdWVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUNhcmQoY2FyZCwgY3VyZW50UGxheWVyLmlkLCBjdXJyZW50UGxheWVyQ2FyZHMsIGNhcmREb21FbHQpO1xyXG4gICAgICAgICAgICBzdGF0ZS5jYXJkc1BsYXllZC5wdXNoKGNhcmQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbW9uIGpvdWV1ciAnICsgY3VyZW50UGxheWVyLmlkICsgJyBwb3Nzw6hkZSAnICsgY3VyZW50UGxheWVyLmNhcmRzLmxlbmd0aCArICcgY2FydGVzJyk7XHJcblxyXG4gICAgICAgICAgICAvL2MnZXN0IGF1IHRvdXIgZGUgbCdhdXRyZSBqb3VldXJcclxuICAgICAgICAgICAgdXBkYXRlUGxheWVycyhjdXJlbnRQbGF5ZXIsIGdhbWVPdmVyKGN1cmVudFBsYXllcikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdqZSBuZSBwZXV4IHBhcyBqb3VlcicpO1xyXG4gICAgICAgICAgICAvLyBqZSBuZSBwZXV4IHF1ZSBjbGlxdWVyIHN1ciBsYSBwaW9jaGUgXHJcbiAgICAgICAgICAgIHRoaXMucGlja2F4ZUNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgICAvL2MnZXN0IGF1IHRvdXIgZGUgbCdhdXRyZSBqb3VldXJcclxuICAgICAgICAgICAgdXBkYXRlUGxheWVycyhjdXJlbnRQbGF5ZXIsIGdhbWVPdmVyKGN1cmVudFBsYXllcikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL2plIHJldGlyZSBsYSBjbGFzc2UgcXVpIGFuaW1lIGxlIG5vbSBkdSBqb3VldXIgw6AgcXVpIGNlIG4nZXN0IHBsdXMgbGUgdG91clxyXG4gICAgICAgICQoJyNnYW1lLXBsYXllci1uYW1lLScgKyBjdXJlbnRQbGF5ZXIuaWQgKyAnJykucmVtb3ZlQ2xhc3MoJ2lzVHVybicpO1xyXG5cclxuICAgICAgICAvL2onZW5hYmxlZCBsZXMgY2FydGVzIGRlIGwnYXV0cmUgam91ZXVyXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMucGlja2F4ZUNsaWNrID0gZnVuY3Rpb24oY2FyZCkge1xyXG4gICAgICAgIC8vaidham91dGUgbGEgY2FydGUgcGlvY2hlIMOgIGNlbGxlIGR1IGpldSBkZSBtb24gam91ZXVyIGNvdXJhbnQgaWhtXHJcbiAgICAgICAgdmFyIGFkZENhcmRQbGF5ZXJHYW1lID0gY2FyZFRlbXBsYXRlKGNhcmQuY29sb3IsIGNhcmQubnVtYmVyLCBjYXJkLmlkLCBtYXJnaW5MZWZ0VmFsdWUgKz0gNDApO1xyXG4gICAgICAgICQoJ2RpdltkYXRhLXBsYXllcj1cIicgKyBjdXJlbnRQbGF5ZXIgKyAnXCJdIC5jYXJkLWdhbW1lIGJ1dHRvbjpsYXN0LWNoaWxkJylbMF0uaW5uZXJIVE1MICs9IGFkZENhcmRQbGF5ZXJHYW1lO1xyXG5cclxuICAgICAgICAvL2plIHN1cHByaW1lIGxhIGNhcnRlIGRlIGxhIHBpb2NoZSBcclxuICAgICAgICAkKCcjcGlja2F4ZSBidXR0b246bGFzdC1jaGlsZCcpWzBdLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vYW5ub3RhdGlvbiBwb3VyIGRpcmUgw6AgcXVpIGMnZXN0IGxlIHRvdXJcclxuICAgIHRoaXMuZGlzcGxheVBsYXllclR1cm4gPSBmdW5jdGlvbihwbGF5ZXIpIHtcclxuICAgICAgICB2YXIgcGxheWVyVHVybkRpdk5hbWUgPSAkKCcjZ2FtZS1wbGF5ZXItbmFtZS0nICsgcGxheWVyLmlkICsgJycpLmFkZENsYXNzKCdpc1R1cm4nKTtcclxuICAgICAgICB2YXIgaW50ZXJ2YWxJRCA9IHNldEludGVydmFsKHBsYXllclR1cm5EaXZOYW1lLCAyMDAwKTtcclxuICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSUQpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL2ZvbmN0aW9uICdqZSBwZXV4IGpvdWVyJ1xyXG4gICAgdGhpcy5wbGF5Q2FyZCA9IGZ1bmN0aW9uKGNhcmQsIGN1cmVudFBsYXllciwgY3VycmVudFBsYXllckNhcmRzLCBjYXJkRG9tRWx0KSB7XHJcbiAgICAgICAgLy9qZSBzdXBwcmltZSBsYSBjYXJ0ZSBvayBkdSB0YXMgZHUgam91ZXVyIGR1IERPTVxyXG4gICAgICAgIGNhcmREb21FbHQucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vamUgbWV0IMOgIGpvdXIgbW9uIHN0YXRlIGNhcmQgam91ZXVyIGVuIHN1cHByaW1hbnQgbGEgY2FydGUgZGUgbCdvYmpcclxuICAgICAgICB2YXIgY2FyZE9ialJlbW92ZSA9IG51bGw7XHJcbiAgICAgICAgc3RhdGUucGxheWVycy5maW5kKGZ1bmN0aW9uKHApIHtcclxuICAgICAgICAgICAgaWYgKHAuaWQgPT09IGN1cmVudFBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgcC5jYXJkcy5tYXAoZnVuY3Rpb24oYykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjLm51bWJlciA9PT0gY2FyZC5udW1iZXIgJiYgYy5jb2xvciA9PT0gY2FyZC5jb2xvciAmJiBjLmlkID09PSBjYXJkLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRPYmpSZW1vdmUgPSBjYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5ZXI6ICcsIHApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDYXJkKGN1cnJlbnRQbGF5ZXJDYXJkcywgY2FyZE9ialJlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL2plIHJldGlyZSBsJ2FuY2llbm5lIGNhcnRlIGR1IHRhcyAnY2FydGVzIMOgIGpvdWVyJ1xyXG4gICAgICAgICQoJyNjYXJkLXBsYXllZCBidXR0b24nKVswXS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9qJ2Fqb3V0ZSBjZXR0ZSBjYXJ0ZSBhdSB0YXMgJ2NhcnRlcyDDoCBqb3VlcidcclxuICAgICAgICB2YXIgbmV3Q2FyZCA9IGNhcmRUZW1wbGF0ZShjYXJkLmNvbG9yLCBjYXJkLm51bWJlciwgY2FyZC5pZCwgbWFyZ2luTGVmdFZhbHVlKTtcclxuICAgICAgICAkKCcjY2FyZC1wbGF5ZWQnKVswXS5pbm5lckhUTUwgKz0gbmV3Q2FyZDtcclxuICAgIH1cclxuXHJcbiAgICAvL2ZvbmN0aW9uICdqZSBwZXV4IHBhcyBqb3Vlcic6IHBpb2NoZSArIGFqb3V0ZSBkZSBsYSBjYXJ0ZSBkYW5zIGxlIGpldSBkdSBqb3VldXJcclxuICAgIC8qdGhpcy5ub3RQbGF5Q2FyZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQoJyNwaWNrYXhlIGJ1dHRvbi5jYXJkJykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgY2FyZEFkZCA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FyZCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5jYXJkJyk7XHJcbiAgICAgICAgICAgIGNhcmRBZGQgPSBzdGF0ZS5ib2FyZC5jYXJkc1swXVswXS5maW5kKGZ1bmN0aW9uKGNhcmQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYXJkLmlkID09IGUudGFyZ2V0LmNsb3Nlc3QoJy5jYXJkJykuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FyZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjYXJkQWRkOiAnLCBjYXJkQWRkKTtcclxuXHJcbiAgICAgICAgICAgIC8vamUgbWV0IMOgIGpvdXIgbW9uIG9iaiBwbGF5ZXIuY2FyZCBhdmVjIGxhIGNhcnRlIGVuIHBsdXMgZGFucyBzb24gamV1XHJcbiAgICAgICAgICAgIGN1cmVudFBsYXllci5jYXJkcy5wdXNoKGNhcmRBZGQpO1xyXG4gICAgICAgICAgICAvL2onYWpvdXRlIGxhIDFlIGNhcnRlIMOgIG1vbiB0YXMgam91ZXVyXHJcbiAgICAgICAgICAgIHZhciBhZGRDYXJkUGxheWVyR2FtZSA9IGNhcmRUZW1wbGF0ZShjYXJkQWRkLmNvbG9yLCBjYXJkQWRkLm51bWJlciwgY2FyZEFkZC5pZCwgbWFyZ2luTGVmdFZhbHVlICs9IDQwKTtcclxuICAgICAgICAgICAgJCgnZGl2W2RhdGEtcGxheWVyPVwiJyArIGN1cmVudFBsYXllci5pZCArICdcIl0gLmNhcmQtZ2FtbWUgYnV0dG9uOmxhc3QtY2hpbGQnKVswXS5pbm5lckhUTUwgKz0gYWRkQ2FyZFBsYXllckdhbWU7XHJcblxyXG4gICAgICAgICAgICAvL2plIHN1cHByaW1lIGxhIGNhcnRlIGRlIGxhIHBpbGUgZGUgbGEgcGlvY2hlXHJcbiAgICAgICAgICAgICQoJyNwaWNrYXhlIGJ1dHRvbjpsYXN0LWNoaWxkJylbMF0ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtb24gam91ZXVyICcsIGN1cmVudFBsYXllci5pZCwgJyBhICcsIHBsYXllci5jYXJkcy5sZW5ndGgsICcgY2FydGVzJylcclxuICAgICAgICB9KTtcclxuICAgIH0qL1xyXG5cclxuICAgIGZ1bmN0aW9uIHN3aXRjaFBsYXllcigpIHtcclxuICAgICAgICB2YXIgcGxheWVycyA9IHN0YXRlLnBsYXllcnM7XHJcbiAgICAgICAgLy9jJ2VzdCBsZSB0b3VyIGRlIGwnYXV0cmUgam91ZXVyXHJcbiAgICAgICAgcGxheWVycy5maW5kKGZ1bmN0aW9uKHApIHtcclxuICAgICAgICAgICAgaWYgKCFwLnR1cm4pIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIgPSBwO1xyXG4gICAgICAgICAgICAgICAgcC50dXJuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXJDYXJkcyA9IHAuY2FyZHM7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY1xcJ2VzdCBhdSB0b3VyIGR1IGpvdWV1ciAnLCBjdXJyZW50UGxheWVyKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQm9hcmRWaWV3OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/board.js\n");

/***/ }),

/***/ "./src/js/card.js":
/*!************************!*\
  !*** ./src/js/card.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function Card(color, number, id) {\r\n    //gestion du nombre de cartes possibles dans le jeu \r\n    this.color = color;\r\n    this.number = number;\r\n    this.state = null;\r\n    this.id = id;\r\n}\r\n\r\nmodule.exports = Card;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvY2FyZC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9jYXJkLmpzPzYxNjYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQ2FyZChjb2xvciwgbnVtYmVyLCBpZCkge1xyXG4gICAgLy9nZXN0aW9uIGR1IG5vbWJyZSBkZSBjYXJ0ZXMgcG9zc2libGVzIGRhbnMgbGUgamV1IFxyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5udW1iZXIgPSBudW1iZXI7XHJcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBDYXJkOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/card.js\n");

/***/ }),

/***/ "./src/js/main.js":
/*!************************!*\
  !*** ./src/js/main.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var state = __webpack_require__(/*! ./utils/state */ \"./src/js/utils/state.js\");\r\nvar getCard = __webpack_require__(/*! ./utils/get-card */ \"./src/js/utils/get-card.js\");\r\nvar updateStateCardBoard = __webpack_require__(/*! ./utils/update-state-card */ \"./src/js/utils/update-state-card.js\");\r\nvar cardTemplate = __webpack_require__(/*! ./utils/card-template */ \"./src/js/utils/card-template.js\");\r\nvar shuffleCard = __webpack_require__(/*! ./utils/shuffle-card */ \"./src/js/utils/shuffle-card.js\");\r\nvar BoardView = __webpack_require__(/*! ./board */ \"./src/js/board.js\");\r\nvar Player = __webpack_require__(/*! ./player */ \"./src/js/player.js\");\r\n\r\nvar player1Area = $('div[data-player=\"player1\"]')[0];\r\nvar player2Area = $('div[data-player=\"player2\"]')[0];\r\nvar putCardArea = $('#card-played')[0];\r\nvar pickaxe = $('#pickaxe')[0];\r\n\r\n\r\n\r\nvar boardGame = new BoardView(distributeCards);\r\n\r\nboardGame.startGameBtn.addEventListener(\"click\", function() { boardGame.startGame(); }, false);\r\n\r\n/* -------- */\r\n/*\r\nFunctions utils\r\n*/\r\nfunction initCardsBoard(cards) {\r\n    var arrCards = [];\r\n    arrCards.push(shuffleCard(cards));\r\n    console.log('voici la liste des ', arrCards.length, ' cartes mélangées : ', arrCards);\r\n    //je met à jour la liste de mes cartes qui se trouvent sur la table\r\n    state.board.cards.push(arrCards);\r\n    console.log('A initCardsBoard, voici ce que j\\'ai dans mon state board cards ', state.board.cards[0][0]);\r\n}\r\n\r\nfunction updateStateCardBoard(cards, arrCardBoard) {\r\n    var index;\r\n    for (var i = 0; i < cards.length; i++) {\r\n        index = arrCardBoard.indexOf(arrCardBoard[i]);\r\n        if (index > -1) {\r\n            arrCardBoard.splice(index, 1);\r\n        }\r\n    }\r\n    console.log('il me reste ', state.board.cards[0][0].length, ' après la distribution ');\r\n}\r\n\r\nfunction getRandomCards(cardsNumbers) {\r\n    var arrCards = [];\r\n    var boardCards = state.board.cards[0][0];\r\n    for (i = 0; i < cardsNumbers; i++) {\r\n        arrCards.push(boardCards[i]);\r\n    }\r\n\r\n    // je met à jour la liste de mes cartes du jeu (board)\r\n    // en y supprimant les cartes qui viennent d'être distribuées au joueur \r\n    updateStateCardBoard(arrCards, boardCards);\r\n    return arrCards;\r\n}\r\n\r\n/* -------- */\r\n/*\r\nInit game functions\r\n*/\r\n\r\nfunction distributeCards(cardsNumbers) {\r\n    var arrCardsPlayer1 = getRandomCards(cardsNumbers);\r\n    var arrCardsPlayer2 = getRandomCards(cardsNumbers);\r\n    var player1 = new Player('player1', arrCardsPlayer1);\r\n    var player2 = new Player('player2', arrCardsPlayer2);\r\n\r\n    player1.turn = true;\r\n    player2.isBot = true;\r\n    player1.id = 'player1';\r\n    player2.id = 'player2';\r\n    state.players = [player1, player2];\r\n}\r\n\r\n//fonction pour avoir la carte qui débute le jeu\r\nfunction initCardStartGame(numberCard) {\r\n    var cardsBoard = state.board.cards[0][0];\r\n    var newArr = [];\r\n\r\n    for (var i = 0; i < numberCard; i++) { newArr.push(cardsBoard[i]); }\r\n\r\n    //je met à jour le nombre de cartes dans le jeu\r\n    updateStateCardBoard(newArr, cardsBoard);\r\n\r\n    console.log('J\\'ai ' + newArr.length + ' carte pour débuter mon jeu')\r\n    return newArr;\r\n}\r\n\r\n\r\n\r\n\r\n/* -------- */\r\n/*\r\nFunctions rendu IHM\r\n*/\r\n//fonction qui affiches les cartes des joueurs dans l'ihm\r\nvar marginLeftValue = 0;\r\n\r\nfunction renderPlayersCards(players) {\r\n    var newCard = null;\r\n    players.forEach(function(player) {\r\n        player.cards.forEach(function(card) {\r\n            newCard = cardTemplate(card.color, card.number, card.id, marginLeftValue += 60);\r\n            $('div[data-player=\"' + player.id + '\"] .card-gamme')[0].innerHTML += newCard;\r\n        })\r\n    })\r\n\r\n}\r\n\r\nfunction renderCardsBoard(cards, locationDom) {\r\n    var newCard = null;\r\n    cards.forEach(function(card) {\r\n        newCard = cardTemplate(card.color, card.number, card.id, marginLeftValue = 0);\r\n        locationDom.innerHTML += newCard;\r\n    })\r\n\r\n    //je met à jour le state de ma pile \"cartes jouées\"\r\n    if (locationDom === putCardArea) { state.cardsPlayed.push(cards[0]) }\r\n}\r\n\r\n\r\n/* -------- */\r\n/*\r\nGame Tour function\r\n*/\r\nvar updateStatusPlayers = function(player, gameOver) {\r\n    debugger\r\n    if (gameOver) {\r\n        var winner = state.players.find(function(p) {\r\n            return p.id = p.cards[0].length === 0;\r\n        });\r\n        //game.gameOver(player, winner);\r\n        return;\r\n    }\r\n\r\n    var newPlayers = state.players.map(function(p) {\r\n        if (p.turn) {\r\n            p.turn = false;\r\n            p = player;\r\n        } else if (!p.turn) {\r\n            p.turn = true;\r\n            console.log(\"**********************\");\r\n            console.log(\"c'est au tour de \", p.name, \" de jouer\");\r\n            boardGame.displayPlayerTurn(p);\r\n        }\r\n        return p;\r\n    });\r\n\r\n    state.players = newPlayers;\r\n    console.log(\"players => \", state.players);\r\n}\r\n\r\nfunction gameTour(player) {\r\n    var currentPlayer = null;\r\n    var currentPlayerCards = null;\r\n\r\n    var currentPlayer = state.players.find(function(player) {\r\n        return player.turn;\r\n    });\r\n    var currentPlayerCards = currentPlayer.cards;\r\n\r\n    //init du 1e joueur qui joue la partie = player1\r\n    //player.find(function(p) {\r\n    //    if (p.turn) {\r\n    //        currentPlayer = p;\r\n    //        currentPlayerCards = p.cards;\r\n    //    };\r\n    //})\r\n\r\n    console.log('le joueur qui joue est le ', currentPlayer.name);\r\n    //je met à jour le state du joueur à qui c'est le tour\r\n    state.turn = currentPlayer.id;\r\n\r\n    var boardGame = new BoardView(currentPlayer.id, currentPlayer);\r\n\r\n    //je place un event listener sur la div parent des cartes du joueur1 réel\r\n    //qui appel la fonction qui check les règles du jeu \r\n    var cardClick = function(e) {\r\n        var currentPlayer = state.players.find(function(player) {\r\n            return player.turn;\r\n        });\r\n        var currentPlayerCards = currentPlayer.cards;\r\n\r\n        var cardTargetObj = null;\r\n        var cardTarget = e.target.closest('.card');\r\n        cardTargetObj = currentPlayerCards.find(function(card) {\r\n            if (card.id == cardTarget.id) { return card; }\r\n        });\r\n        console.log('cardTarget: ', cardTargetObj)\r\n\r\n        boardGame.cardClick(cardTargetObj, cardTarget, currentPlayer, currentPlayerCards, updateStatusPlayers, gameOver);\r\n    }\r\n\r\n    boardGame.zoneCardsPlayer1.addEventListener('click', cardClick, true);\r\n    boardGame.zoneCardsPlayer2.addEventListener('click', cardClick, true);\r\n\r\n    var pickaxeClick = function(e) {\r\n        var currentPlayer = state.players.find(function(player) {\r\n            p = player.id;\r\n            return player.turn;\r\n        });\r\n        var cardClick = e.target.closest('.card');\r\n        var lastCardPickaxe = state.board.cards[0][0].slice(-1)[0];\r\n        var cardPickaxe = state.board.cards[0][0].find(function(card) {\r\n            if (card.id == cardClick.id) { return card; }\r\n        });\r\n        console.log('la carte cliquée dans la pioche: ', cardPickaxe);\r\n        boardGame.pickaxeClick(cardPickaxe);\r\n\r\n        //je met à jour la liste de carte de mon joueur courant\r\n        currentPlayer.cards.push(cardPickaxe);\r\n        //je supprime la carte du tas pioche \r\n        // removeCard(cardPickaxe, state.board.cards[0][0]); \r\n\r\n        updateStatusPlayers(currentPlayer, gameOver(currentPlayer));\r\n    }\r\n    boardGame.pickaxe.addEventListener('click', pickaxeClick, true);\r\n\r\n\r\n    console.log('mon joueur ', currentPlayer.id, ' a ', currentPlayer.cards.length, ' cartes')\r\n}\r\n\r\nvar gameOver = function(currentPlayer) {\r\n    debugger\r\n    if (currentPlayer.cards.length === 0) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n\r\nwindow.onload = function() {\r\n    //animation logo\r\n    setTimeout(function() {\r\n        document.querySelector('.logo').classList.add('open');\r\n    }, 500);\r\n\r\n    //je mélange mes 76 cartes \r\n    initCardsBoard(getCard());\r\n\r\n    //je distribue 7 cartes au joueur 1\r\n    distributeCards(7);\r\n\r\n    //j'affiches les cartes de mes joueurs dans l'ihm\r\n    renderPlayersCards(state.players);\r\n\r\n    //j'init une carte au hasard sur le board pour démarrer le jeu : il s'agit de la pile \"cartes à jouer\"\r\n    renderCardsBoard(initCardStartGame(1), putCardArea);\r\n\r\n    //j'init le tas de cartes de la pioche\r\n    renderCardsBoard(state.board.cards[0][0], pickaxe);\r\n\r\n    //au tour du joueur 1\r\n    gameTour(state.players)\r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvbWFpbi5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9tYWluLmpzPzkyOTEiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHN0YXRlID0gcmVxdWlyZSgnLi91dGlscy9zdGF0ZScpO1xyXG52YXIgZ2V0Q2FyZCA9IHJlcXVpcmUoJy4vdXRpbHMvZ2V0LWNhcmQnKTtcclxudmFyIHVwZGF0ZVN0YXRlQ2FyZEJvYXJkID0gcmVxdWlyZSgnLi91dGlscy91cGRhdGUtc3RhdGUtY2FyZCcpO1xyXG52YXIgY2FyZFRlbXBsYXRlID0gcmVxdWlyZSgnLi91dGlscy9jYXJkLXRlbXBsYXRlJyk7XHJcbnZhciBzaHVmZmxlQ2FyZCA9IHJlcXVpcmUoJy4vdXRpbHMvc2h1ZmZsZS1jYXJkJyk7XHJcbnZhciBCb2FyZFZpZXcgPSByZXF1aXJlKFwiLi9ib2FyZFwiKTtcclxudmFyIFBsYXllciA9IHJlcXVpcmUoJy4vcGxheWVyJyk7XHJcblxyXG52YXIgcGxheWVyMUFyZWEgPSAkKCdkaXZbZGF0YS1wbGF5ZXI9XCJwbGF5ZXIxXCJdJylbMF07XHJcbnZhciBwbGF5ZXIyQXJlYSA9ICQoJ2RpdltkYXRhLXBsYXllcj1cInBsYXllcjJcIl0nKVswXTtcclxudmFyIHB1dENhcmRBcmVhID0gJCgnI2NhcmQtcGxheWVkJylbMF07XHJcbnZhciBwaWNrYXhlID0gJCgnI3BpY2theGUnKVswXTtcclxuXHJcblxyXG5cclxudmFyIGJvYXJkR2FtZSA9IG5ldyBCb2FyZFZpZXcoZGlzdHJpYnV0ZUNhcmRzKTtcclxuXHJcbmJvYXJkR2FtZS5zdGFydEdhbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkgeyBib2FyZEdhbWUuc3RhcnRHYW1lKCk7IH0sIGZhbHNlKTtcclxuXHJcbi8qIC0tLS0tLS0tICovXHJcbi8qXHJcbkZ1bmN0aW9ucyB1dGlsc1xyXG4qL1xyXG5mdW5jdGlvbiBpbml0Q2FyZHNCb2FyZChjYXJkcykge1xyXG4gICAgdmFyIGFyckNhcmRzID0gW107XHJcbiAgICBhcnJDYXJkcy5wdXNoKHNodWZmbGVDYXJkKGNhcmRzKSk7XHJcbiAgICBjb25zb2xlLmxvZygndm9pY2kgbGEgbGlzdGUgZGVzICcsIGFyckNhcmRzLmxlbmd0aCwgJyBjYXJ0ZXMgbcOpbGFuZ8OpZXMgOiAnLCBhcnJDYXJkcyk7XHJcbiAgICAvL2plIG1ldCDDoCBqb3VyIGxhIGxpc3RlIGRlIG1lcyBjYXJ0ZXMgcXVpIHNlIHRyb3V2ZW50IHN1ciBsYSB0YWJsZVxyXG4gICAgc3RhdGUuYm9hcmQuY2FyZHMucHVzaChhcnJDYXJkcyk7XHJcbiAgICBjb25zb2xlLmxvZygnQSBpbml0Q2FyZHNCb2FyZCwgdm9pY2kgY2UgcXVlIGpcXCdhaSBkYW5zIG1vbiBzdGF0ZSBib2FyZCBjYXJkcyAnLCBzdGF0ZS5ib2FyZC5jYXJkc1swXVswXSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVN0YXRlQ2FyZEJvYXJkKGNhcmRzLCBhcnJDYXJkQm9hcmQpIHtcclxuICAgIHZhciBpbmRleDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FyZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpbmRleCA9IGFyckNhcmRCb2FyZC5pbmRleE9mKGFyckNhcmRCb2FyZFtpXSk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgYXJyQ2FyZEJvYXJkLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2lsIG1lIHJlc3RlICcsIHN0YXRlLmJvYXJkLmNhcmRzWzBdWzBdLmxlbmd0aCwgJyBhcHLDqHMgbGEgZGlzdHJpYnV0aW9uICcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRSYW5kb21DYXJkcyhjYXJkc051bWJlcnMpIHtcclxuICAgIHZhciBhcnJDYXJkcyA9IFtdO1xyXG4gICAgdmFyIGJvYXJkQ2FyZHMgPSBzdGF0ZS5ib2FyZC5jYXJkc1swXVswXTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBjYXJkc051bWJlcnM7IGkrKykge1xyXG4gICAgICAgIGFyckNhcmRzLnB1c2goYm9hcmRDYXJkc1tpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gamUgbWV0IMOgIGpvdXIgbGEgbGlzdGUgZGUgbWVzIGNhcnRlcyBkdSBqZXUgKGJvYXJkKVxyXG4gICAgLy8gZW4geSBzdXBwcmltYW50IGxlcyBjYXJ0ZXMgcXVpIHZpZW5uZW50IGQnw6p0cmUgZGlzdHJpYnXDqWVzIGF1IGpvdWV1ciBcclxuICAgIHVwZGF0ZVN0YXRlQ2FyZEJvYXJkKGFyckNhcmRzLCBib2FyZENhcmRzKTtcclxuICAgIHJldHVybiBhcnJDYXJkcztcclxufVxyXG5cclxuLyogLS0tLS0tLS0gKi9cclxuLypcclxuSW5pdCBnYW1lIGZ1bmN0aW9uc1xyXG4qL1xyXG5cclxuZnVuY3Rpb24gZGlzdHJpYnV0ZUNhcmRzKGNhcmRzTnVtYmVycykge1xyXG4gICAgdmFyIGFyckNhcmRzUGxheWVyMSA9IGdldFJhbmRvbUNhcmRzKGNhcmRzTnVtYmVycyk7XHJcbiAgICB2YXIgYXJyQ2FyZHNQbGF5ZXIyID0gZ2V0UmFuZG9tQ2FyZHMoY2FyZHNOdW1iZXJzKTtcclxuICAgIHZhciBwbGF5ZXIxID0gbmV3IFBsYXllcigncGxheWVyMScsIGFyckNhcmRzUGxheWVyMSk7XHJcbiAgICB2YXIgcGxheWVyMiA9IG5ldyBQbGF5ZXIoJ3BsYXllcjInLCBhcnJDYXJkc1BsYXllcjIpO1xyXG5cclxuICAgIHBsYXllcjEudHVybiA9IHRydWU7XHJcbiAgICBwbGF5ZXIyLmlzQm90ID0gdHJ1ZTtcclxuICAgIHBsYXllcjEuaWQgPSAncGxheWVyMSc7XHJcbiAgICBwbGF5ZXIyLmlkID0gJ3BsYXllcjInO1xyXG4gICAgc3RhdGUucGxheWVycyA9IFtwbGF5ZXIxLCBwbGF5ZXIyXTtcclxufVxyXG5cclxuLy9mb25jdGlvbiBwb3VyIGF2b2lyIGxhIGNhcnRlIHF1aSBkw6lidXRlIGxlIGpldVxyXG5mdW5jdGlvbiBpbml0Q2FyZFN0YXJ0R2FtZShudW1iZXJDYXJkKSB7XHJcbiAgICB2YXIgY2FyZHNCb2FyZCA9IHN0YXRlLmJvYXJkLmNhcmRzWzBdWzBdO1xyXG4gICAgdmFyIG5ld0FyciA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyQ2FyZDsgaSsrKSB7IG5ld0Fyci5wdXNoKGNhcmRzQm9hcmRbaV0pOyB9XHJcblxyXG4gICAgLy9qZSBtZXQgw6Agam91ciBsZSBub21icmUgZGUgY2FydGVzIGRhbnMgbGUgamV1XHJcbiAgICB1cGRhdGVTdGF0ZUNhcmRCb2FyZChuZXdBcnIsIGNhcmRzQm9hcmQpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdKXFwnYWkgJyArIG5ld0Fyci5sZW5ndGggKyAnIGNhcnRlIHBvdXIgZMOpYnV0ZXIgbW9uIGpldScpXHJcbiAgICByZXR1cm4gbmV3QXJyO1xyXG59XHJcblxyXG5cclxuXHJcblxyXG4vKiAtLS0tLS0tLSAqL1xyXG4vKlxyXG5GdW5jdGlvbnMgcmVuZHUgSUhNXHJcbiovXHJcbi8vZm9uY3Rpb24gcXVpIGFmZmljaGVzIGxlcyBjYXJ0ZXMgZGVzIGpvdWV1cnMgZGFucyBsJ2lobVxyXG52YXIgbWFyZ2luTGVmdFZhbHVlID0gMDtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlclBsYXllcnNDYXJkcyhwbGF5ZXJzKSB7XHJcbiAgICB2YXIgbmV3Q2FyZCA9IG51bGw7XHJcbiAgICBwbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24ocGxheWVyKSB7XHJcbiAgICAgICAgcGxheWVyLmNhcmRzLmZvckVhY2goZnVuY3Rpb24oY2FyZCkge1xyXG4gICAgICAgICAgICBuZXdDYXJkID0gY2FyZFRlbXBsYXRlKGNhcmQuY29sb3IsIGNhcmQubnVtYmVyLCBjYXJkLmlkLCBtYXJnaW5MZWZ0VmFsdWUgKz0gNjApO1xyXG4gICAgICAgICAgICAkKCdkaXZbZGF0YS1wbGF5ZXI9XCInICsgcGxheWVyLmlkICsgJ1wiXSAuY2FyZC1nYW1tZScpWzBdLmlubmVySFRNTCArPSBuZXdDYXJkO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyQ2FyZHNCb2FyZChjYXJkcywgbG9jYXRpb25Eb20pIHtcclxuICAgIHZhciBuZXdDYXJkID0gbnVsbDtcclxuICAgIGNhcmRzLmZvckVhY2goZnVuY3Rpb24oY2FyZCkge1xyXG4gICAgICAgIG5ld0NhcmQgPSBjYXJkVGVtcGxhdGUoY2FyZC5jb2xvciwgY2FyZC5udW1iZXIsIGNhcmQuaWQsIG1hcmdpbkxlZnRWYWx1ZSA9IDApO1xyXG4gICAgICAgIGxvY2F0aW9uRG9tLmlubmVySFRNTCArPSBuZXdDYXJkO1xyXG4gICAgfSlcclxuXHJcbiAgICAvL2plIG1ldCDDoCBqb3VyIGxlIHN0YXRlIGRlIG1hIHBpbGUgXCJjYXJ0ZXMgam91w6llc1wiXHJcbiAgICBpZiAobG9jYXRpb25Eb20gPT09IHB1dENhcmRBcmVhKSB7IHN0YXRlLmNhcmRzUGxheWVkLnB1c2goY2FyZHNbMF0pIH1cclxufVxyXG5cclxuXHJcbi8qIC0tLS0tLS0tICovXHJcbi8qXHJcbkdhbWUgVG91ciBmdW5jdGlvblxyXG4qL1xyXG52YXIgdXBkYXRlU3RhdHVzUGxheWVycyA9IGZ1bmN0aW9uKHBsYXllciwgZ2FtZU92ZXIpIHtcclxuICAgIGRlYnVnZ2VyXHJcbiAgICBpZiAoZ2FtZU92ZXIpIHtcclxuICAgICAgICB2YXIgd2lubmVyID0gc3RhdGUucGxheWVycy5maW5kKGZ1bmN0aW9uKHApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHAuaWQgPSBwLmNhcmRzWzBdLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL2dhbWUuZ2FtZU92ZXIocGxheWVyLCB3aW5uZXIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbmV3UGxheWVycyA9IHN0YXRlLnBsYXllcnMubWFwKGZ1bmN0aW9uKHApIHtcclxuICAgICAgICBpZiAocC50dXJuKSB7XHJcbiAgICAgICAgICAgIHAudHVybiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBwID0gcGxheWVyO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIXAudHVybikge1xyXG4gICAgICAgICAgICBwLnR1cm4gPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIioqKioqKioqKioqKioqKioqKioqKipcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYydlc3QgYXUgdG91ciBkZSBcIiwgcC5uYW1lLCBcIiBkZSBqb3VlclwiKTtcclxuICAgICAgICAgICAgYm9hcmRHYW1lLmRpc3BsYXlQbGF5ZXJUdXJuKHApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcDtcclxuICAgIH0pO1xyXG5cclxuICAgIHN0YXRlLnBsYXllcnMgPSBuZXdQbGF5ZXJzO1xyXG4gICAgY29uc29sZS5sb2coXCJwbGF5ZXJzID0+IFwiLCBzdGF0ZS5wbGF5ZXJzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2FtZVRvdXIocGxheWVyKSB7XHJcbiAgICB2YXIgY3VycmVudFBsYXllciA9IG51bGw7XHJcbiAgICB2YXIgY3VycmVudFBsYXllckNhcmRzID0gbnVsbDtcclxuXHJcbiAgICB2YXIgY3VycmVudFBsYXllciA9IHN0YXRlLnBsYXllcnMuZmluZChmdW5jdGlvbihwbGF5ZXIpIHtcclxuICAgICAgICByZXR1cm4gcGxheWVyLnR1cm47XHJcbiAgICB9KTtcclxuICAgIHZhciBjdXJyZW50UGxheWVyQ2FyZHMgPSBjdXJyZW50UGxheWVyLmNhcmRzO1xyXG5cclxuICAgIC8vaW5pdCBkdSAxZSBqb3VldXIgcXVpIGpvdWUgbGEgcGFydGllID0gcGxheWVyMVxyXG4gICAgLy9wbGF5ZXIuZmluZChmdW5jdGlvbihwKSB7XHJcbiAgICAvLyAgICBpZiAocC50dXJuKSB7XHJcbiAgICAvLyAgICAgICAgY3VycmVudFBsYXllciA9IHA7XHJcbiAgICAvLyAgICAgICAgY3VycmVudFBsYXllckNhcmRzID0gcC5jYXJkcztcclxuICAgIC8vICAgIH07XHJcbiAgICAvL30pXHJcblxyXG4gICAgY29uc29sZS5sb2coJ2xlIGpvdWV1ciBxdWkgam91ZSBlc3QgbGUgJywgY3VycmVudFBsYXllci5uYW1lKTtcclxuICAgIC8vamUgbWV0IMOgIGpvdXIgbGUgc3RhdGUgZHUgam91ZXVyIMOgIHF1aSBjJ2VzdCBsZSB0b3VyXHJcbiAgICBzdGF0ZS50dXJuID0gY3VycmVudFBsYXllci5pZDtcclxuXHJcbiAgICB2YXIgYm9hcmRHYW1lID0gbmV3IEJvYXJkVmlldyhjdXJyZW50UGxheWVyLmlkLCBjdXJyZW50UGxheWVyKTtcclxuXHJcbiAgICAvL2plIHBsYWNlIHVuIGV2ZW50IGxpc3RlbmVyIHN1ciBsYSBkaXYgcGFyZW50IGRlcyBjYXJ0ZXMgZHUgam91ZXVyMSByw6llbFxyXG4gICAgLy9xdWkgYXBwZWwgbGEgZm9uY3Rpb24gcXVpIGNoZWNrIGxlcyByw6hnbGVzIGR1IGpldSBcclxuICAgIHZhciBjYXJkQ2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRQbGF5ZXIgPSBzdGF0ZS5wbGF5ZXJzLmZpbmQoZnVuY3Rpb24ocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXIudHVybjtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgY3VycmVudFBsYXllckNhcmRzID0gY3VycmVudFBsYXllci5jYXJkcztcclxuXHJcbiAgICAgICAgdmFyIGNhcmRUYXJnZXRPYmogPSBudWxsO1xyXG4gICAgICAgIHZhciBjYXJkVGFyZ2V0ID0gZS50YXJnZXQuY2xvc2VzdCgnLmNhcmQnKTtcclxuICAgICAgICBjYXJkVGFyZ2V0T2JqID0gY3VycmVudFBsYXllckNhcmRzLmZpbmQoZnVuY3Rpb24oY2FyZCkge1xyXG4gICAgICAgICAgICBpZiAoY2FyZC5pZCA9PSBjYXJkVGFyZ2V0LmlkKSB7IHJldHVybiBjYXJkOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NhcmRUYXJnZXQ6ICcsIGNhcmRUYXJnZXRPYmopXHJcblxyXG4gICAgICAgIGJvYXJkR2FtZS5jYXJkQ2xpY2soY2FyZFRhcmdldE9iaiwgY2FyZFRhcmdldCwgY3VycmVudFBsYXllciwgY3VycmVudFBsYXllckNhcmRzLCB1cGRhdGVTdGF0dXNQbGF5ZXJzLCBnYW1lT3Zlcik7XHJcbiAgICB9XHJcblxyXG4gICAgYm9hcmRHYW1lLnpvbmVDYXJkc1BsYXllcjEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXJkQ2xpY2ssIHRydWUpO1xyXG4gICAgYm9hcmRHYW1lLnpvbmVDYXJkc1BsYXllcjIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXJkQ2xpY2ssIHRydWUpO1xyXG5cclxuICAgIHZhciBwaWNrYXhlQ2xpY2sgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRQbGF5ZXIgPSBzdGF0ZS5wbGF5ZXJzLmZpbmQoZnVuY3Rpb24ocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHAgPSBwbGF5ZXIuaWQ7XHJcbiAgICAgICAgICAgIHJldHVybiBwbGF5ZXIudHVybjtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgY2FyZENsaWNrID0gZS50YXJnZXQuY2xvc2VzdCgnLmNhcmQnKTtcclxuICAgICAgICB2YXIgbGFzdENhcmRQaWNrYXhlID0gc3RhdGUuYm9hcmQuY2FyZHNbMF1bMF0uc2xpY2UoLTEpWzBdO1xyXG4gICAgICAgIHZhciBjYXJkUGlja2F4ZSA9IHN0YXRlLmJvYXJkLmNhcmRzWzBdWzBdLmZpbmQoZnVuY3Rpb24oY2FyZCkge1xyXG4gICAgICAgICAgICBpZiAoY2FyZC5pZCA9PSBjYXJkQ2xpY2suaWQpIHsgcmV0dXJuIGNhcmQ7IH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbGEgY2FydGUgY2xpcXXDqWUgZGFucyBsYSBwaW9jaGU6ICcsIGNhcmRQaWNrYXhlKTtcclxuICAgICAgICBib2FyZEdhbWUucGlja2F4ZUNsaWNrKGNhcmRQaWNrYXhlKTtcclxuXHJcbiAgICAgICAgLy9qZSBtZXQgw6Agam91ciBsYSBsaXN0ZSBkZSBjYXJ0ZSBkZSBtb24gam91ZXVyIGNvdXJhbnRcclxuICAgICAgICBjdXJyZW50UGxheWVyLmNhcmRzLnB1c2goY2FyZFBpY2theGUpO1xyXG4gICAgICAgIC8vamUgc3VwcHJpbWUgbGEgY2FydGUgZHUgdGFzIHBpb2NoZSBcclxuICAgICAgICAvLyByZW1vdmVDYXJkKGNhcmRQaWNrYXhlLCBzdGF0ZS5ib2FyZC5jYXJkc1swXVswXSk7IFxyXG5cclxuICAgICAgICB1cGRhdGVTdGF0dXNQbGF5ZXJzKGN1cnJlbnRQbGF5ZXIsIGdhbWVPdmVyKGN1cnJlbnRQbGF5ZXIpKTtcclxuICAgIH1cclxuICAgIGJvYXJkR2FtZS5waWNrYXhlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGlja2F4ZUNsaWNrLCB0cnVlKTtcclxuXHJcblxyXG4gICAgY29uc29sZS5sb2coJ21vbiBqb3VldXIgJywgY3VycmVudFBsYXllci5pZCwgJyBhICcsIGN1cnJlbnRQbGF5ZXIuY2FyZHMubGVuZ3RoLCAnIGNhcnRlcycpXHJcbn1cclxuXHJcbnZhciBnYW1lT3ZlciA9IGZ1bmN0aW9uKGN1cnJlbnRQbGF5ZXIpIHtcclxuICAgIGRlYnVnZ2VyXHJcbiAgICBpZiAoY3VycmVudFBsYXllci5jYXJkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuXHJcbndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vYW5pbWF0aW9uIGxvZ29cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ28nKS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XHJcbiAgICB9LCA1MDApO1xyXG5cclxuICAgIC8vamUgbcOpbGFuZ2UgbWVzIDc2IGNhcnRlcyBcclxuICAgIGluaXRDYXJkc0JvYXJkKGdldENhcmQoKSk7XHJcblxyXG4gICAgLy9qZSBkaXN0cmlidWUgNyBjYXJ0ZXMgYXUgam91ZXVyIDFcclxuICAgIGRpc3RyaWJ1dGVDYXJkcyg3KTtcclxuXHJcbiAgICAvL2onYWZmaWNoZXMgbGVzIGNhcnRlcyBkZSBtZXMgam91ZXVycyBkYW5zIGwnaWhtXHJcbiAgICByZW5kZXJQbGF5ZXJzQ2FyZHMoc3RhdGUucGxheWVycyk7XHJcblxyXG4gICAgLy9qJ2luaXQgdW5lIGNhcnRlIGF1IGhhc2FyZCBzdXIgbGUgYm9hcmQgcG91ciBkw6ltYXJyZXIgbGUgamV1IDogaWwgcydhZ2l0IGRlIGxhIHBpbGUgXCJjYXJ0ZXMgw6Agam91ZXJcIlxyXG4gICAgcmVuZGVyQ2FyZHNCb2FyZChpbml0Q2FyZFN0YXJ0R2FtZSgxKSwgcHV0Q2FyZEFyZWEpO1xyXG5cclxuICAgIC8vaidpbml0IGxlIHRhcyBkZSBjYXJ0ZXMgZGUgbGEgcGlvY2hlXHJcbiAgICByZW5kZXJDYXJkc0JvYXJkKHN0YXRlLmJvYXJkLmNhcmRzWzBdWzBdLCBwaWNrYXhlKTtcclxuXHJcbiAgICAvL2F1IHRvdXIgZHUgam91ZXVyIDFcclxuICAgIGdhbWVUb3VyKHN0YXRlLnBsYXllcnMpXHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/main.js\n");

/***/ }),

/***/ "./src/js/player.js":
/*!**************************!*\
  !*** ./src/js/player.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function Player(name, cards) {\r\n    this.name = name;\r\n    this.cards = cards;\r\n    this.id = null;\r\n    this.turn = false;\r\n    this.isBot = false;\r\n    this.gameOver = null;\r\n}\r\n\r\nmodule.exports = Player;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvcGxheWVyLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3BsYXllci5qcz9lZTIwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFBsYXllcihuYW1lLCBjYXJkcykge1xyXG4gICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuY2FyZHMgPSBjYXJkcztcclxuICAgIHRoaXMuaWQgPSBudWxsO1xyXG4gICAgdGhpcy50dXJuID0gZmFsc2U7XHJcbiAgICB0aGlzLmlzQm90ID0gZmFsc2U7XHJcbiAgICB0aGlzLmdhbWVPdmVyID0gbnVsbDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBQbGF5ZXI7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/player.js\n");

/***/ }),

/***/ "./src/js/utils/card-template.js":
/*!***************************************!*\
  !*** ./src/js/utils/card-template.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function cardTemplate(color, number, id, marginLeftValue) {\r\n\r\n    var card =\r\n        '<button role=\"button\" class=\"card ' + color + '\" id=\"' + id + '\" style=\"margin-left:' + marginLeftValue + 'px;\">' +\r\n        '<div class=\"card_tabs card_top text-left\">' + number + '</div>' +\r\n        '<div class=\"card_centre text-center center-block\">' + number + '</div>' +\r\n        '<div class=\"card_tabs card_bottom text-left\">' + number + '</div>' +\r\n        '</button>';\r\n    return card;\r\n}\r\n\r\nmodule.exports = cardTemplate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvY2FyZC10ZW1wbGF0ZS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy91dGlscy9jYXJkLXRlbXBsYXRlLmpzPzJmMGQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY2FyZFRlbXBsYXRlKGNvbG9yLCBudW1iZXIsIGlkLCBtYXJnaW5MZWZ0VmFsdWUpIHtcclxuXHJcbiAgICB2YXIgY2FyZCA9XHJcbiAgICAgICAgJzxidXR0b24gcm9sZT1cImJ1dHRvblwiIGNsYXNzPVwiY2FyZCAnICsgY29sb3IgKyAnXCIgaWQ9XCInICsgaWQgKyAnXCIgc3R5bGU9XCJtYXJnaW4tbGVmdDonICsgbWFyZ2luTGVmdFZhbHVlICsgJ3B4O1wiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY2FyZF90YWJzIGNhcmRfdG9wIHRleHQtbGVmdFwiPicgKyBudW1iZXIgKyAnPC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjYXJkX2NlbnRyZSB0ZXh0LWNlbnRlciBjZW50ZXItYmxvY2tcIj4nICsgbnVtYmVyICsgJzwvZGl2PicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY2FyZF90YWJzIGNhcmRfYm90dG9tIHRleHQtbGVmdFwiPicgKyBudW1iZXIgKyAnPC9kaXY+JyArXHJcbiAgICAgICAgJzwvYnV0dG9uPic7XHJcbiAgICByZXR1cm4gY2FyZDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjYXJkVGVtcGxhdGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/card-template.js\n");

/***/ }),

/***/ "./src/js/utils/get-card.js":
/*!**********************************!*\
  !*** ./src/js/utils/get-card.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("//fonction qui génère dans un tableau mes 76 cartes avec leurs exceptions\r\nvar Card = __webpack_require__(/*! ../card */ \"./src/js/card.js\");\r\n\r\nfunction getCard() {\r\n    var colorCard = ['red', 'blue', 'green', 'yellow'];\r\n    var arrCard = [];\r\n    var index = 0;\r\n    colorCard.map(function(color) {\r\n        var arr = new Array(9);\r\n        for (var i = 0; i < arr.length + 1; i++) {\r\n            var firstCard = new Card(color, i, index++);\r\n            var secCArd = new Card(color, i, index++);\r\n            //var result = i === 0 ? arrCard.push(card) : arrCard.push(card, card);\r\n            if (i === 0) {\r\n                arrCard.push(firstCard)\r\n            } else {\r\n                arrCard.push(firstCard, secCArd)\r\n            }\r\n        }\r\n    });\r\n    return arrCard;\r\n}\r\n\r\nmodule.exports = getCard;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvZ2V0LWNhcmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvZ2V0LWNhcmQuanM/MDZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvL2ZvbmN0aW9uIHF1aSBnw6luw6hyZSBkYW5zIHVuIHRhYmxlYXUgbWVzIDc2IGNhcnRlcyBhdmVjIGxldXJzIGV4Y2VwdGlvbnNcclxudmFyIENhcmQgPSByZXF1aXJlKCcuLi9jYXJkJyk7XHJcblxyXG5mdW5jdGlvbiBnZXRDYXJkKCkge1xyXG4gICAgdmFyIGNvbG9yQ2FyZCA9IFsncmVkJywgJ2JsdWUnLCAnZ3JlZW4nLCAneWVsbG93J107XHJcbiAgICB2YXIgYXJyQ2FyZCA9IFtdO1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIGNvbG9yQ2FyZC5tYXAoZnVuY3Rpb24oY29sb3IpIHtcclxuICAgICAgICB2YXIgYXJyID0gbmV3IEFycmF5KDkpO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aCArIDE7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgZmlyc3RDYXJkID0gbmV3IENhcmQoY29sb3IsIGksIGluZGV4KyspO1xyXG4gICAgICAgICAgICB2YXIgc2VjQ0FyZCA9IG5ldyBDYXJkKGNvbG9yLCBpLCBpbmRleCsrKTtcclxuICAgICAgICAgICAgLy92YXIgcmVzdWx0ID0gaSA9PT0gMCA/IGFyckNhcmQucHVzaChjYXJkKSA6IGFyckNhcmQucHVzaChjYXJkLCBjYXJkKTtcclxuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGFyckNhcmQucHVzaChmaXJzdENhcmQpXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcnJDYXJkLnB1c2goZmlyc3RDYXJkLCBzZWNDQXJkKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYXJyQ2FyZDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnZXRDYXJkOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/get-card.js\n");

/***/ }),

/***/ "./src/js/utils/remove-card.js":
/*!*************************************!*\
  !*** ./src/js/utils/remove-card.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function removeCard(monTasDeCartesAParser, laCarteASupprimer) {\r\n    for (var i = monTasDeCartesAParser.length - 1; i--;) {\r\n        if ((monTasDeCartesAParser[i].color == laCarteASupprimer.color) && (monTasDeCartesAParser[i].id == laCarteASupprimer.id)) monTasDeCartesAParser.splice(i, 1);\r\n    }\r\n}\r\n\r\nmodule.exports = removeCard;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvcmVtb3ZlLWNhcmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvcmVtb3ZlLWNhcmQuanM/ODc1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiByZW1vdmVDYXJkKG1vblRhc0RlQ2FydGVzQVBhcnNlciwgbGFDYXJ0ZUFTdXBwcmltZXIpIHtcclxuICAgIGZvciAodmFyIGkgPSBtb25UYXNEZUNhcnRlc0FQYXJzZXIubGVuZ3RoIC0gMTsgaS0tOykge1xyXG4gICAgICAgIGlmICgobW9uVGFzRGVDYXJ0ZXNBUGFyc2VyW2ldLmNvbG9yID09IGxhQ2FydGVBU3VwcHJpbWVyLmNvbG9yKSAmJiAobW9uVGFzRGVDYXJ0ZXNBUGFyc2VyW2ldLmlkID09IGxhQ2FydGVBU3VwcHJpbWVyLmlkKSkgbW9uVGFzRGVDYXJ0ZXNBUGFyc2VyLnNwbGljZShpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByZW1vdmVDYXJkOyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/remove-card.js\n");

/***/ }),

/***/ "./src/js/utils/shuffle-card.js":
/*!**************************************!*\
  !*** ./src/js/utils/shuffle-card.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function shuffleCard(a) {\r\n    for (var i = a.length - 1; i > 0; i--) {\r\n        var j = Math.floor(Math.random() * (i + 1));\r\n        [a[i], a[j]] = [a[j], a[i]];\r\n    }\r\n    return a;\r\n}\r\nmodule.exports = shuffleCard;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvc2h1ZmZsZS1jYXJkLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3V0aWxzL3NodWZmbGUtY2FyZC5qcz80ZjFjIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHNodWZmbGVDYXJkKGEpIHtcclxuICAgIGZvciAodmFyIGkgPSBhLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICB2YXIgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xyXG4gICAgICAgIFthW2ldLCBhW2pdXSA9IFthW2pdLCBhW2ldXTtcclxuICAgIH1cclxuICAgIHJldHVybiBhO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gc2h1ZmZsZUNhcmQ7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/utils/shuffle-card.js\n");

/***/ }),

/***/ "./src/js/utils/state.js":
/*!*******************************!*\
  !*** ./src/js/utils/state.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var state = {\r\n    players: [],\r\n\r\n    board: {\r\n        cards: []\r\n    },\r\n\r\n    cardsPlayed: [], //cartes de la pile \"cartes à jouer\"\r\n\r\n    turn: '',\r\n}\r\nmodule.exports = state;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvc3RhdGUuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvc3RhdGUuanM/ZDM3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RhdGUgPSB7XHJcbiAgICBwbGF5ZXJzOiBbXSxcclxuXHJcbiAgICBib2FyZDoge1xyXG4gICAgICAgIGNhcmRzOiBbXVxyXG4gICAgfSxcclxuXHJcbiAgICBjYXJkc1BsYXllZDogW10sIC8vY2FydGVzIGRlIGxhIHBpbGUgXCJjYXJ0ZXMgw6Agam91ZXJcIlxyXG5cclxuICAgIHR1cm46ICcnLFxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gc3RhdGU7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/state.js\n");

/***/ }),

/***/ "./src/js/utils/update-state-card.js":
/*!*******************************************!*\
  !*** ./src/js/utils/update-state-card.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var state = __webpack_require__(/*! ./state */ \"./src/js/utils/state.js\");\r\n\r\nfunction updateStateCardBoard(cards, arrCardBoard) {\r\n    var index;\r\n    for (var i = 0; i < cards.length; i++) {\r\n        index = arrCardBoard.indexOf(arrCardBoard[i]);\r\n        if (index > -1) {\r\n            arrCardBoard.splice(index, 1);\r\n        }\r\n    }\r\n    console.log('il me reste ', state.board.cards[0].length, ' après la distribution ');\r\n}\r\n\r\nmodule.exports = updateStateCardBoard;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdXRpbHMvdXBkYXRlLXN0YXRlLWNhcmQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvdXRpbHMvdXBkYXRlLXN0YXRlLWNhcmQuanM/NmQxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgc3RhdGUgPSByZXF1aXJlKCcuL3N0YXRlJyk7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZUNhcmRCb2FyZChjYXJkcywgYXJyQ2FyZEJvYXJkKSB7XHJcbiAgICB2YXIgaW5kZXg7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaW5kZXggPSBhcnJDYXJkQm9hcmQuaW5kZXhPZihhcnJDYXJkQm9hcmRbaV0pO1xyXG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIGFyckNhcmRCb2FyZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdpbCBtZSByZXN0ZSAnLCBzdGF0ZS5ib2FyZC5jYXJkc1swXS5sZW5ndGgsICcgYXByw6hzIGxhIGRpc3RyaWJ1dGlvbiAnKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB1cGRhdGVTdGF0ZUNhcmRCb2FyZDsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/utils/update-state-card.js\n");

/***/ })

/******/ });